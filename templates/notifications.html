<!-- C:\gerenciador-eventos\templates\notifications.html -->
{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <h2 class="mb-4">Minhas Notificações</h2>

    {% if notifications %}
        <div class="list-group">
            {% for notification in notifications %}
                <div class="list-group-item d-flex justify-content-between align-items-start {% if not notification.is_read %}list-group-item-light-bg{% endif %}">
                    <div class="flex-grow-1 me-2">
                        <h5 class="mb-1">
                            {% if notification.link_url %}
                                <a href="{{ notification.link_url }}" class="text-decoration-none {% if not notification.is_read %}fw-bold text-dark{% else %}text-muted{% endif %}">{{ notification.message }}</a>
                            {% else %}
                                <span class="{% if not notification.is_read %}fw-bold text-dark{% else %}text-muted{% endif %}">{{ notification.message }}</span>
                            {% endif %}
                        </h5>
                        <small class="text-muted">Recebido em: {{ notification.timestamp.strftime('%d/%m/%Y %H:%M') }}</small>
                    </div>
                    {% if not notification.is_read %}
                        {# Se a notificação não foi lida, mas já é marcada como lida ao carregar a página #}
                        {# Este botão é mais para um cenário de "marcar como lido individualmente" (não implementado ainda) #}
                        {# Por enquanto, a rota list_notifications já marca tudo como lido #}
                        {# <form method="POST" action="{{ url_for('main.mark_notification_as_read', notification_id=notification.id) }}" class="ms-auto">
                            <button type="submit" class="btn btn-outline-secondary btn-sm" title="Marcar como lida">
                                <i class="fas fa-eye-slash"></i>
                            </button>
                        </form> #}
                    {% endif %}
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="alert alert-info text-center" role="alert">
            <i class="fas fa-info-circle me-2"></i> Você não tem nenhuma notificação no momento.
        </div>
    {% endif %}
</div>
{% endblock %}

{% block styles %}
{{ super() }} {# Importante para manter estilos de outros blocos child #}
<style>
    .list-group-item-light-bg {
        background-color: #f8f9fa; /* Um fundo leve para notificações não lidas */
        border-left: 5px solid var(--bs-primary); /* Uma barra lateral para destaque */
    }
    .list-group-item-light-bg a {
        color: var(--bs-dark); /* Cor do texto mais escura para contraste */
    }
</style>
{% endblock %}